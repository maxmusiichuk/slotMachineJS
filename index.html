<!DOCTYPE html>
<head>
    <title>Slot Machine</title>
    <link href="https://fonts.googleapis.com/css?family=Permanent+Marker&display=swap" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css?family=Roboto');
        @import url('https://fonts.googleapis.com/css?family=Roboto+Mono');

        body {
            background-image: url(images/background.png);
            max-width: 1200px;
        }

        a {
            color: #283593;
            text-decoration: none;
        }

        h3 {
        }

        * {
        }

        body {
            background-color: #424242;
            font-family: 'Permanent Marker', cursive;
            margin: 0 auto;
        }

        main {
            border-radius: 5px;
            padding: 20px 15px;
            margin-top: -400px;
            position: relative;
            z-index: 1;
        }

        section#status {
            padding-top: 25px;
            padding-bottom: 25px;
            border-radius: 5px;
            text-align: center;
            color: yellow;
            font-size: 25px;
            font-family: 'Permanent Marker', cursive;
        }

        section#Slots1{
            margin-top: 40px;
        }

        section#Slots, section#Slots1, section#Slots3 {
            border-radius: 15px;
            text-align: center;
            /*margin-bottom: 170px;*/
            /*margin-top: 215px;*/
        }

        section#Gira {
            padding-bottom: 10px;
            border-radius: 5px;
            text-align: center;
            background-color: green;
            border: 2px solid darkgreen;
            color: darkgreen;
            font-size: 15px;
            width: 104px;
            height: 15px;
            top: 72px;
            position: relative;
            left: 650px;
            z-index: 5;
        }

        section#AddScore{
            padding-bottom: 10px;
            border-radius: 5px;
            text-align: center;
            background-color: yellow;
            border: 2px solid darkorange;
            color: darkorange;
            font-size: 15px;
            width: 104px;
            height: 15px;
            top: 44px;
            position: relative;
            left: 870px;
            z-index: 5;
        }

        section#options {
            padding-top: 5px;
            border-radius: 5px;
            background-color: grey;
            opacity: 0.5;
            height: 50px;
            color: #FFFFFF;
            width: 825px;
            margin: 0 auto;
        }

        .option {
            padding-left: 5px;
        }

        section#info {
            background-color: #616161;
            padding-left: 12px;
            padding-bottom: 12px;
            border-radius: 5px;
            overflow: hidden;
            animation-duration: 1s;
            color: #BDBDBD;
            display: none;
        }

        #slot1, #slot2, #slot3, #slot4, #slot5{
            display: inline-block;
            background-size: 150px;
            width: 149px;
            height: 150px;
            border: 4px solid grey;
            border-radius: 10px;
        }

        #slot11, #slot21, #slot31, #slot41, #slot51,#slot13, #slot23, #slot33, #slot43, #slot53{
            display: inline-block;
            background-size: 150px;
            width: 149px;
            height: 150px;
            /*border: 4px solid grey;*/
            /*border-radius: 10px;*/
            opacity: 0.5;
        }

        .a1 {
            background-image: url("images/banana.png");
            /*background-repeat: no-repeat;*/
        }

        .a2 {
            background-image: url("images/bell.png");
        }

        .a3 {
            background-image: url("images/cherries.png");
        }

        .a4 {
            background-image: url("images/joker.png");
        }

        .a5 {
            background-image: url("images/money-bag.png");
        }

        .a6 {
            background-image: url("images/orange.png");
        }

        .a7 {
            background-image: url("images/poker.png");
        }

        .opacity_bg{
            background: rgba(191, 8, 212, 0.5);
            width: 825px;
            height: 500px;
            border-radius: 5px;
            position: relative;
            z-index: -5;
            margin: 0 auto;
            top: 240px;
        }

    </style>
</head>
<html>
<div class="opacity_bg"></div>
<main>
    <section id="status">Space Casino</section>
    <section id="Slots1">
        <div id="slot11" class="a1"></div>
        <div id="slot21" class="a1"></div>
        <div id="slot31" class="a1"></div>
        <div id="slot41" class="a1"></div>
        <div id="slot51" class="a1"></div>
    </section>

    <section id="Slots">
        <div id="slot1" class="a1"></div>
        <div id="slot2" class="a1"></div>
        <div id="slot3" class="a1"></div>
        <div id="slot4" class="a1"></div>
        <div id="slot5" class="a1"></div>
    </section>
    <section id="Slots3">
        <div id="slot13" class="a1"></div>
        <div id="slot23" class="a1"></div>
        <div id="slot33" class="a1"></div>
        <div id="slot43" class="a1"></div>
        <div id="slot53" class="a1"></div>
    </section>

    <section onclick="doSlot()" id="Gira">START</section>
    <section onclick="addScore()" id="AddScore">Add 100PTS</section>
    <section id="options">
    </section>
</main>

<script>
    var doing = false;
    var spin = [new Audio("res/sounds/spin.mp3"), new Audio("res/sounds/spin.mp3"), new Audio("res/sounds/spin.mp3"), new Audio("res/sounds/spin.mp3"), new Audio("res/sounds/spin.mp3"), new Audio("res/sounds/spin.mp3"), new Audio("res/sounds/spin.mp3")];
    var coin = [new Audio("res/sounds/coin.mp3"), new Audio("res/sounds/coin.mp3"), new Audio("res/sounds/coin.mp3")];
    var win = new Audio("res/sounds/win.mp3");
    var lose = new Audio("res/sounds/lose.mp3");
    var audio = false;
    let status = document.getElementById("status");
    var info = true;
    var count = 100;

    function addScore() {
        count += 100;
        console.log(count)
    }

    function doSlot() {
        if (doing) {
            return null;
        }
        doing = true;
        var numChanges = randomInt(1, 4) * 7;
        var numeberSlot1 = numChanges + randomInt(1, 7);
        var numeberSlot2 = numChanges + 2 * 7 + randomInt(1, 7);
        var numeberSlot3 = numChanges + 4 * 7 + randomInt(1, 7);
        var numeberSlot4 = numChanges + 4 * 7 + randomInt(1, 7);
        var numeberSlot5 = numChanges + 4 * 7 + randomInt(1, 7);

        var i1 = 0;
        var i2 = 0;
        var i3 = 0;
        var i4 = 0;
        var i5 = 0;
        status.innerHTML = "SPINNING";
        slot1 = setInterval(spin1, 50);
        slot2 = setInterval(spin2, 50);
        slot3 = setInterval(spin3, 50);
        slot4 = setInterval(spin4, 50);
        slot5 = setInterval(spin5, 50);

        function spin1() {
            i1++;
            if (i1 >= numeberSlot1) {
                // coin[0].play();
                clearInterval(slot1);
                return null;
            }
            slotTile = document.getElementById("slot1");
            if (slotTile.className == "a7") {
                slotTile.className = "a0";
            }
            slotTile.className = "a" + (parseInt(slotTile.className.substring(1)) + 1);
        }

        function spin2() {
            i2++;
            if (i2 >= numeberSlot2) {
                // coin[1].play();
                clearInterval(slot2);
                return null;
            }
            slotTile = document.getElementById("slot2");
            if (slotTile.className == "a7") {
                slotTile.className = "a0";
            }
            slotTile.className = "a" + (parseInt(slotTile.className.substring(1)) + 1)
        }

        function spin3() {
            i3++;
            if (i3 >= numeberSlot3) {
                // coin[1].play();
                clearInterval(slot3);
                return null;
            }
            slotTile = document.getElementById("slot3");
            if (slotTile.className == "a7") {
                slotTile.className = "a0";
            }
            slotTile.className = "a" + (parseInt(slotTile.className.substring(1)) + 1)
        }

        function spin4() {
            i4++;
            if (i4 >= numeberSlot4) {
                // coin[1].play();
                clearInterval(slot4);
                return null;
            }
            slotTile = document.getElementById("slot4");
            if (slotTile.className == "a7") {
                slotTile.className = "a0";
            }
            slotTile.className = "a" + (parseInt(slotTile.className.substring(1)) + 1)
        }

        function spin5() {
            i5++;
            if (i5 >= numeberSlot5) {
                // coin[1].play();
                clearInterval(slot5);
                testWin();
                return null;
            }
            slotTile = document.getElementById("slot5");
            if (slotTile.className == "a7") {
                slotTile.className = "a0";
            }
            // spin[sound].play();
            slotTile.className = "a" + (parseInt(slotTile.className.substring(1)) + 1)
        }
    }

    function testWin() {
        var slot1 = document.getElementById("slot1").className;
        var slot2 = document.getElementById("slot2").className;
        var slot3 = document.getElementById("slot3").className;
        var slot4 = document.getElementById("slot4").className;
        var slot5 = document.getElementById("slot5").className;

        if (((slot1 == slot2 && slot2 == slot3) ||
            (slot1 == slot2 && slot3 == "a7") ||
            (slot1 == slot3 && slot2 == "a7") ||
            (slot2 == slot3 && slot1 == "a7") ||
            (slot1 == slot2 && slot1 == "a7") ||
            (slot1 == slot3 && slot1 == "a7") ||
            (slot1 == slot4 && slot1 == "a7") ||
            (slot1 == slot5 && slot1 == "a7") ||
            (slot2 == slot3 && slot2 == "a7")) && !(slot1 == slot2 && slot2 == slot3 && slot3 == slot4 && slot4 == slot5 && slot1 == "a7")) {
            status.innerHTML = "YOU WIN!";
            // win.play();
            count = count + 100;
            console.log(count);
        } else {
            status.innerHTML = "YOU LOSE!";
            // lose.play();
            count = count - 1;
            // break;
            console.log(count);
            doing = false
        }
        doing = false;
    }

    function randomInt(min, max) {
        return Math.floor((Math.random() * (max - min + 1)) + min);
    }
</script>
</body>
</html>